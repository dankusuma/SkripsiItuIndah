2018-02-10 21:05:59.899 +07:00 [DBG] Using idsrv as default scheme for authentication
2018-02-10 21:05:59.943 +07:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-10 21:05:59.943 +07:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-10 21:05:59.943 +07:00 [DBG] Using idsrv as default scheme for challenge
2018-02-10 21:05:59.943 +07:00 [DBG] Using idsrv as default scheme for forbid
2018-02-10 21:06:00.392 +07:00 [DBG] Starting token cleanup
2018-02-10 21:06:12.906 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-02-10 21:06:12.913 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-02-10 21:06:12.914 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-02-10 21:06:12.921 +07:00 [DBG] Start discovery request
2018-02-10 21:06:16.089 +07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
System.ArgumentException: Keyword not supported: 'initial catalog'.
   at Microsoft.Data.Sqlite.SqliteConnectionStringBuilder.GetIndex(String keyword)
   at Microsoft.Data.Sqlite.SqliteConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Microsoft.Data.Sqlite.SqliteConnection.set_ConnectionString(String value)
   at Microsoft.Data.Sqlite.SqliteConnection..ctor(String connectionString)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqliteRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Internal.LazyRef`1.get_Value()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqliteRelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.<_TrackEntities>d__17`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
System.ArgumentException: Keyword not supported: 'initial catalog'.
   at Microsoft.Data.Sqlite.SqliteConnectionStringBuilder.GetIndex(String keyword)
   at Microsoft.Data.Sqlite.SqliteConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Microsoft.Data.Sqlite.SqliteConnection.set_ConnectionString(String value)
   at Microsoft.Data.Sqlite.SqliteConnection..ctor(String connectionString)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqliteRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Internal.LazyRef`1.get_Value()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqliteRelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.<_TrackEntities>d__17`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
2018-02-10 21:06:16.384 +07:00 [INF] {
  "Name": "Unhandled Exception",
  "Category": "Error",
  "EventType": "Error",
  "Id": 3000,
  "Details": "System.ArgumentException: Keyword not supported: 'initial catalog'.\r\n   at Microsoft.Data.Sqlite.SqliteConnectionStringBuilder.GetIndex(String keyword)\r\n   at Microsoft.Data.Sqlite.SqliteConnectionStringBuilder.set_Item(String keyword, Object value)\r\n   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)\r\n   at Microsoft.Data.Sqlite.SqliteConnection.set_ConnectionString(String value)\r\n   at Microsoft.Data.Sqlite.SqliteConnection..ctor(String connectionString)\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.SqliteRelationalConnection.CreateDbConnection()\r\n   at Microsoft.EntityFrameworkCore.Internal.LazyRef`1.get_Value()\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.SqliteRelationalConnection.Open(Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()\r\n   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.<_TrackEntities>d__17`2.MoveNext()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()\r\n   at System.Collections.Generic.LargeArrayBuilder`1.AddRange(IEnumerable`1 items)\r\n   at System.Collections.Generic.EnumerableHelpers.ToArray[T](IEnumerable`1 source)\r\n   at System.Linq.Enumerable.ToArray[TSource](IEnumerable`1 source)\r\n   at IdentityServer4.EntityFramework.Stores.ResourceStore.GetAllResourcesAsync() in C:\\local\\identity\\server4\\EntityFramework\\src\\IdentityServer4.EntityFramework\\Stores\\ResourceStore.cs:line 132\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__2.MoveNext() in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\Extensions\\IResourceStoreExtensions.cs:line 74\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\ResponseHandling\\DiscoveryResponseGenerator.cs:line 164\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\Endpoints\\DiscoveryEndpoint.cs:line 58\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\Hosting\\IdentityServerMiddleware.cs:line 54",
  "Message": "Keyword not supported: 'initial catalog'.",
  "ActivityId": "0HLBGHTL27K0B:00000002",
  "TimeStamp": "2018-02-10T14:06:16Z",
  "ProcessId": 16520,
  "LocalIpAddress": "127.0.0.1:5309",
  "RemoteIpAddress": "::1"
}
2018-02-10 21:06:16.397 +07:00 [FTL] Unhandled exception: System.ArgumentException: Keyword not supported: 'initial catalog'.
   at Microsoft.Data.Sqlite.SqliteConnectionStringBuilder.GetIndex(String keyword)
   at Microsoft.Data.Sqlite.SqliteConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Microsoft.Data.Sqlite.SqliteConnection.set_ConnectionString(String value)
   at Microsoft.Data.Sqlite.SqliteConnection..ctor(String connectionString)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqliteRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Internal.LazyRef`1.get_Value()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqliteRelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.<_TrackEntities>d__17`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.LargeArrayBuilder`1.AddRange(IEnumerable`1 items)
   at System.Collections.Generic.EnumerableHelpers.ToArray[T](IEnumerable`1 source)
   at System.Linq.Enumerable.ToArray[TSource](IEnumerable`1 source)
   at IdentityServer4.EntityFramework.Stores.ResourceStore.GetAllResourcesAsync() in C:\local\identity\server4\EntityFramework\src\IdentityServer4.EntityFramework\Stores\ResourceStore.cs:line 132
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__2.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 74
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
2018-02-10 21:06:16.410 +07:00 [ERR] An exception occurred while calculating the database error page content. Skipping display of the database error page.
System.ArgumentException: Keyword not supported: 'initial catalog'.
   at Microsoft.Data.Sqlite.SqliteConnectionStringBuilder.GetIndex(String keyword)
   at Microsoft.Data.Sqlite.SqliteConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Microsoft.Data.Sqlite.SqliteConnectionStringBuilder..ctor(String connectionString)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqliteRelationalConnection.CreateReadOnlyConnection()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqliteDatabaseCreator.Exists()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.ExistsAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
2018-02-10 21:06:16.428 +07:00 [ERR] An unhandled exception has occurred while executing the request
System.ArgumentException: Keyword not supported: 'initial catalog'.
   at Microsoft.Data.Sqlite.SqliteConnectionStringBuilder.GetIndex(String keyword)
   at Microsoft.Data.Sqlite.SqliteConnectionStringBuilder.set_Item(String keyword, Object value)
   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)
   at Microsoft.Data.Sqlite.SqliteConnection.set_ConnectionString(String value)
   at Microsoft.Data.Sqlite.SqliteConnection..ctor(String connectionString)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqliteRelationalConnection.CreateDbConnection()
   at Microsoft.EntityFrameworkCore.Internal.LazyRef`1.get_Value()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqliteRelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.<_TrackEntities>d__17`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.LargeArrayBuilder`1.AddRange(IEnumerable`1 items)
   at System.Collections.Generic.EnumerableHelpers.ToArray[T](IEnumerable`1 source)
   at System.Linq.Enumerable.ToArray[TSource](IEnumerable`1 source)
   at IdentityServer4.EntityFramework.Stores.ResourceStore.GetAllResourcesAsync() in C:\local\identity\server4\EntityFramework\src\IdentityServer4.EntityFramework\Stores\ResourceStore.cs:line 132
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__2.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 74
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-02-10 21:07:30.853 +07:00 [DBG] Using idsrv as default scheme for authentication
2018-02-10 21:07:30.888 +07:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-10 21:07:30.888 +07:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-10 21:07:30.889 +07:00 [DBG] Using idsrv as default scheme for challenge
2018-02-10 21:07:30.889 +07:00 [DBG] Using idsrv as default scheme for forbid
2018-02-10 21:07:31.067 +07:00 [DBG] Starting token cleanup
2018-02-10 21:07:36.437 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-02-10 21:07:36.447 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-02-10 21:07:36.447 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-02-10 21:07:36.453 +07:00 [DBG] Start discovery request
2018-02-10 21:07:37.360 +07:00 [ERR] Failed executing DbCommand (150ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [x]
ORDER BY [x].[Id]
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'IdentityResources'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:ce6e045d-df5d-4bd4-b00e-9f66299b0744
Error Number:208,State:1,Class:16
2018-02-10 21:07:37.418 +07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'IdentityResources'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.<_TrackEntities>d__17`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:ce6e045d-df5d-4bd4-b00e-9f66299b0744
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'IdentityResources'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.<_TrackEntities>d__17`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:ce6e045d-df5d-4bd4-b00e-9f66299b0744
Error Number:208,State:1,Class:16
2018-02-10 21:07:37.576 +07:00 [INF] {
  "Name": "Unhandled Exception",
  "Category": "Error",
  "EventType": "Error",
  "Id": 3000,
  "Details": "System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'IdentityResources'.\r\n   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()\r\n   at System.Data.SqlClient.SqlDataReader.get_MetaData()\r\n   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)\r\n   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)\r\n   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)\r\n   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)\r\n   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)\r\n   at System.Data.Common.DbCommand.ExecuteReader()\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()\r\n   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.<_TrackEntities>d__17`2.MoveNext()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()\r\n   at System.Collections.Generic.LargeArrayBuilder`1.AddRange(IEnumerable`1 items)\r\n   at System.Collections.Generic.EnumerableHelpers.ToArray[T](IEnumerable`1 source)\r\n   at System.Linq.Enumerable.ToArray[TSource](IEnumerable`1 source)\r\n   at IdentityServer4.EntityFramework.Stores.ResourceStore.GetAllResourcesAsync() in C:\\local\\identity\\server4\\EntityFramework\\src\\IdentityServer4.EntityFramework\\Stores\\ResourceStore.cs:line 132\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__2.MoveNext() in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\Extensions\\IResourceStoreExtensions.cs:line 74\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\ResponseHandling\\DiscoveryResponseGenerator.cs:line 164\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\Endpoints\\DiscoveryEndpoint.cs:line 58\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\Hosting\\IdentityServerMiddleware.cs:line 54\r\nClientConnectionId:ce6e045d-df5d-4bd4-b00e-9f66299b0744\r\nError Number:208,State:1,Class:16",
  "Message": "Invalid object name 'IdentityResources'.",
  "ActivityId": "0HLBGHUG1DK7K:00000002",
  "TimeStamp": "2018-02-10T14:07:37Z",
  "ProcessId": 12096,
  "LocalIpAddress": "127.0.0.1:4677",
  "RemoteIpAddress": "::1"
}
2018-02-10 21:07:37.593 +07:00 [FTL] Unhandled exception: System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'IdentityResources'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.<_TrackEntities>d__17`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.LargeArrayBuilder`1.AddRange(IEnumerable`1 items)
   at System.Collections.Generic.EnumerableHelpers.ToArray[T](IEnumerable`1 source)
   at System.Linq.Enumerable.ToArray[TSource](IEnumerable`1 source)
   at IdentityServer4.EntityFramework.Stores.ResourceStore.GetAllResourcesAsync() in C:\local\identity\server4\EntityFramework\src\IdentityServer4.EntityFramework\Stores\ResourceStore.cs:line 132
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__2.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 74
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
ClientConnectionId:ce6e045d-df5d-4bd4-b00e-9f66299b0744
Error Number:208,State:1,Class:16
2018-02-10 21:07:43.570 +07:00 [ERR] Failed executing DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [ApiResources] (
    [Id] INTEGER NOT NULL,
    [Description] TEXT NULL,
    [DisplayName] TEXT NULL,
    [Enabled] INTEGER NOT NULL,
    [Name] TEXT NOT NULL,
    CONSTRAINT [PK_ApiResources] PRIMARY KEY ([Id])
);
System.Data.SqlClient.SqlException (0x80131904): There is already an object named 'ApiResources' in the database.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:ce6e045d-df5d-4bd4-b00e-9f66299b0744
Error Number:2714,State:6,Class:16
2018-02-10 21:07:43.587 +07:00 [ERR] An error occurred while applying the migrations for 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'. See InnerException for details.System.Data.SqlClient.SqlException (0x80131904): There is already an object named 'ApiResources' in the database.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
ClientConnectionId:ce6e045d-df5d-4bd4-b00e-9f66299b0744
Error Number:2714,State:6,Class:16
2018-02-10 21:07:43.594 +07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: An error occurred while applying the migrations for 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'. See InnerException for details.System.Data.SqlClient.SqlException (0x80131904): There is already an object named 'ApiResources' in the database.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
ClientConnectionId:ce6e045d-df5d-4bd4-b00e-9f66299b0744
Error Number:2714,State:6,Class:16 ---> System.Data.SqlClient.SqlException: There is already an object named 'ApiResources' in the database.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-02-10 21:14:17.083 +07:00 [DBG] Using idsrv as default scheme for authentication
2018-02-10 21:14:17.148 +07:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-10 21:14:17.149 +07:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-10 21:14:17.149 +07:00 [DBG] Using idsrv as default scheme for challenge
2018-02-10 21:14:17.149 +07:00 [DBG] Using idsrv as default scheme for forbid
2018-02-10 21:14:17.483 +07:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [PersistedGrants] (
    [Key] TEXT NOT NULL,
    [ClientId] TEXT NOT NULL,
    [CreationTime] TEXT NOT NULL,
    [Data] TEXT NOT NULL,
    [Expiration] TEXT NULL,
    [SubjectId] TEXT NULL,
    [Type] TEXT NOT NULL,
    CONSTRAINT [PK_PersistedGrants] PRIMARY KEY ([Key])
);
System.Data.SqlClient.SqlException (0x80131904): Column 'Key' in table 'PersistedGrants' is of a type that is invalid for use as a key column in an index.
Could not create constraint or index. See previous errors.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:c8300944-85e0-41f3-a191-866c539ee8e1
Error Number:1919,State:1,Class:16
2018-02-10 21:22:20.884 +07:00 [DBG] Using idsrv as default scheme for authentication
2018-02-10 21:22:20.912 +07:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-10 21:22:20.913 +07:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-10 21:22:20.916 +07:00 [DBG] Using idsrv as default scheme for challenge
2018-02-10 21:22:20.917 +07:00 [DBG] Using idsrv as default scheme for forbid
2018-02-10 21:22:21.223 +07:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [PersistedGrants] (
    [Key] TEXT NOT NULL,
    [ClientId] TEXT NOT NULL,
    [CreationTime] TEXT NOT NULL,
    [Data] TEXT NOT NULL,
    [Expiration] TEXT NULL,
    [SubjectId] TEXT NULL,
    [Type] TEXT NOT NULL,
    CONSTRAINT [PK_PersistedGrants] PRIMARY KEY ([Key])
);
System.Data.SqlClient.SqlException (0x80131904): Column 'Key' in table 'PersistedGrants' is of a type that is invalid for use as a key column in an index.
Could not create constraint or index. See previous errors.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:11181219-c86c-41e8-8484-8fe0fc3cf4a9
Error Number:1919,State:1,Class:16
2018-02-10 21:24:10.594 +07:00 [DBG] Using idsrv as default scheme for authentication
2018-02-10 21:24:10.622 +07:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-10 21:24:10.622 +07:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-10 21:24:10.624 +07:00 [DBG] Using idsrv as default scheme for challenge
2018-02-10 21:24:10.627 +07:00 [DBG] Using idsrv as default scheme for forbid
2018-02-10 21:46:04.436 +07:00 [DBG] Using idsrv as default scheme for authentication
2018-02-10 21:46:04.478 +07:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-10 21:46:04.478 +07:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-10 21:46:04.478 +07:00 [DBG] Using idsrv as default scheme for challenge
2018-02-10 21:46:04.478 +07:00 [DBG] Using idsrv as default scheme for forbid
2018-02-10 21:46:04.781 +07:00 [DBG] Starting token cleanup
2018-02-10 21:46:19.085 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-02-10 21:46:19.092 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-02-10 21:46:19.092 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-02-10 21:46:19.098 +07:00 [DBG] Start discovery request
2018-02-10 21:46:19.940 +07:00 [DBG] Found [] as all scopes in database
2018-02-10 21:47:15.905 +07:00 [DBG] Using idsrv as default scheme for authentication
2018-02-10 21:47:15.936 +07:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-10 21:47:15.937 +07:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-10 21:47:15.937 +07:00 [DBG] Using idsrv as default scheme for challenge
2018-02-10 21:47:15.937 +07:00 [DBG] Using idsrv as default scheme for forbid
2018-02-10 21:51:33.882 +07:00 [DBG] Using idsrv as default scheme for authentication
2018-02-10 21:51:33.914 +07:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-10 21:51:33.915 +07:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-10 21:51:33.915 +07:00 [DBG] Using idsrv as default scheme for challenge
2018-02-10 21:51:33.915 +07:00 [DBG] Using idsrv as default scheme for forbid
2018-02-10 21:51:34.144 +07:00 [DBG] Starting token cleanup
2018-02-10 21:51:41.779 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-02-10 21:51:41.786 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-02-10 21:51:41.787 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-02-10 21:51:41.793 +07:00 [DBG] Start discovery request
2018-02-10 21:51:42.390 +07:00 [ERR] Failed executing DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
FROM [IdentityResources] AS [x]
ORDER BY [x].[Id]
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'IdentityResources'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:96ed2acd-3b77-43b6-9c34-444110468615
Error Number:208,State:1,Class:16
2018-02-10 21:51:43.118 +07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'IdentityResources'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.<_TrackEntities>d__17`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:96ed2acd-3b77-43b6-9c34-444110468615
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'IdentityResources'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.<_TrackEntities>d__17`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:96ed2acd-3b77-43b6-9c34-444110468615
Error Number:208,State:1,Class:16
2018-02-10 21:51:43.394 +07:00 [INF] {
  "Name": "Unhandled Exception",
  "Category": "Error",
  "EventType": "Error",
  "Id": 3000,
  "Details": "System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'IdentityResources'.\r\n   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()\r\n   at System.Data.SqlClient.SqlDataReader.get_MetaData()\r\n   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)\r\n   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)\r\n   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)\r\n   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)\r\n   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)\r\n   at System.Data.Common.DbCommand.ExecuteReader()\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)\r\n   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()\r\n   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.<_TrackEntities>d__17`2.MoveNext()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()\r\n   at System.Collections.Generic.LargeArrayBuilder`1.AddRange(IEnumerable`1 items)\r\n   at System.Collections.Generic.EnumerableHelpers.ToArray[T](IEnumerable`1 source)\r\n   at System.Linq.Enumerable.ToArray[TSource](IEnumerable`1 source)\r\n   at IdentityServer4.EntityFramework.Stores.ResourceStore.GetAllResourcesAsync() in C:\\local\\identity\\server4\\EntityFramework\\src\\IdentityServer4.EntityFramework\\Stores\\ResourceStore.cs:line 132\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__2.MoveNext() in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\Extensions\\IResourceStoreExtensions.cs:line 74\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\ResponseHandling\\DiscoveryResponseGenerator.cs:line 164\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\Endpoints\\DiscoveryEndpoint.cs:line 58\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\Hosting\\IdentityServerMiddleware.cs:line 54\r\nClientConnectionId:96ed2acd-3b77-43b6-9c34-444110468615\r\nError Number:208,State:1,Class:16",
  "Message": "Invalid object name 'IdentityResources'.",
  "ActivityId": "0HLBGIN3OP4G3:00000002",
  "TimeStamp": "2018-02-10T14:51:43Z",
  "ProcessId": 13624,
  "LocalIpAddress": "127.0.0.1:14863",
  "RemoteIpAddress": "::1"
}
2018-02-10 21:51:43.413 +07:00 [FTL] Unhandled exception: System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'IdentityResources'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.<_TrackEntities>d__17`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.LargeArrayBuilder`1.AddRange(IEnumerable`1 items)
   at System.Collections.Generic.EnumerableHelpers.ToArray[T](IEnumerable`1 source)
   at System.Linq.Enumerable.ToArray[TSource](IEnumerable`1 source)
   at IdentityServer4.EntityFramework.Stores.ResourceStore.GetAllResourcesAsync() in C:\local\identity\server4\EntityFramework\src\IdentityServer4.EntityFramework\Stores\ResourceStore.cs:line 132
   at IdentityServer4.Stores.IResourceStoreExtensions.<GetAllEnabledResourcesAsync>d__2.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Extensions\IResourceStoreExtensions.cs:line 74
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.ResponseHandling.DiscoveryResponseGenerator.<CreateDiscoveryDocumentAsync>d__8.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\DiscoveryResponseGenerator.cs:line 164
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Endpoints.DiscoveryEndpoint.<ProcessAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\DiscoveryEndpoint.cs:line 58
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
ClientConnectionId:96ed2acd-3b77-43b6-9c34-444110468615
Error Number:208,State:1,Class:16
2018-02-10 21:51:51.297 +07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-02-10 21:51:51.297 +07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-02-10 21:51:51.297 +07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-02-10 21:51:51.301 +07:00 [DBG] Start discovery request
2018-02-10 21:51:51.414 +07:00 [DBG] Found [] as all scopes in database
2018-02-10 21:51:56.132 +07:00 [INF] AuthenticationScheme: idsrv was challenged.
2018-02-10 21:53:27.641 +07:00 [INF] AuthenticationScheme: idsrv was challenged.
2018-02-10 15:40:35.284 +00:00 [WRN] No XML encryptor configured. Key "80ee1f67-4289-4db1-88f1-2086b60eea01" may be persisted to storage in unencrypted form.
2018-02-10 15:40:36.939 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-10 15:40:36.940 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-10 15:40:36.940 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-10 15:40:36.940 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-10 15:40:36.940 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-10 15:40:37.317 +00:00 [DBG] Starting token cleanup
2018-02-10 15:41:57.323 +00:00 [INF] AuthenticationScheme: idsrv was challenged.
2018-02-10 15:42:04.438 +00:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Username": "bob",
  "SubjectId": "88421113",
  "DisplayName": "bob",
  "Endpoint": "UI",
  "ActivityId": "0HLBGJIVVR8A7:00000004",
  "TimeStamp": "2018-02-10T15:42:04Z",
  "ProcessId": 13,
  "LocalIpAddress": "172.18.0.5:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-10 15:42:04.465 +00:00 [DBG] Augmenting SignInContext
2018-02-10 15:42:04.468 +00:00 [DBG] Adding idp claim with value: local
2018-02-10 15:42:04.468 +00:00 [DBG] Adding amr claim with value: pwd
2018-02-10 15:42:04.482 +00:00 [INF] AuthenticationScheme: idsrv signed in.
2018-02-10 15:42:04.517 +00:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-10 15:42:04.520 +00:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-10 15:42:19.799 +00:00 [ERR] An error occurred using the connection to database 'Identity' on server 'localhost,1433'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught) ---> System.AggregateException: One or more errors occurred. (Cannot assign requested address) ---> System.Net.Sockets.SocketException: Cannot assign requested address
   at System.Net.Sockets.Socket.BeginConnectEx(EndPoint remoteEP, Boolean flowContext, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.UnsafeBeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state, Boolean flowContext)
   at System.Net.Sockets.Socket.BeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.BeginConnect(IPAddress address, Int32 port, AsyncCallback requestCallback, Object state)
   at System.Net.Sockets.Socket.ConnectAsync(IPAddress address, Int32 port)
   at System.Net.Sockets.SocketTaskExtensions.ConnectAsync(Socket socket, IPAddress address, Int32 port)
   at System.Data.SqlClient.SNI.SNITCPHandle.ParallelConnectAsync(IPAddress[] serverAddresses, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Data.SqlClient.SNI.SNITCPHandle.<ParallelConnectHelper>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Data.SqlClient.SNI.SNITCPHandle.<ConnectAsync>d__22.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
---> (Inner Exception #0) System.Net.Sockets.SocketException (0x80004005): Cannot assign requested address
   at System.Net.Sockets.Socket.BeginConnectEx(EndPoint remoteEP, Boolean flowContext, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.UnsafeBeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state, Boolean flowContext)
   at System.Net.Sockets.Socket.BeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.BeginConnect(IPAddress address, Int32 port, AsyncCallback requestCallback, Object state)
   at System.Net.Sockets.Socket.ConnectAsync(IPAddress address, Int32 port)
   at System.Net.Sockets.SocketTaskExtensions.ConnectAsync(Socket socket, IPAddress address, Int32 port)
   at System.Data.SqlClient.SNI.SNITCPHandle.ParallelConnectAsync(IPAddress[] serverAddresses, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Data.SqlClient.SNI.SNITCPHandle.<ParallelConnectHelper>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Data.SqlClient.SNI.SNITCPHandle.<ConnectAsync>d__22.MoveNext()<---

   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
ClientConnectionId:00000000-0000-0000-0000-000000000000
2018-02-10 15:42:20.283 +00:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.PersistedGrantDbContext'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught) ---> System.AggregateException: One or more errors occurred. (Cannot assign requested address) ---> System.Net.Sockets.SocketException: Cannot assign requested address
   at System.Net.Sockets.Socket.BeginConnectEx(EndPoint remoteEP, Boolean flowContext, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.UnsafeBeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state, Boolean flowContext)
   at System.Net.Sockets.Socket.BeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.BeginConnect(IPAddress address, Int32 port, AsyncCallback requestCallback, Object state)
   at System.Net.Sockets.Socket.ConnectAsync(IPAddress address, Int32 port)
   at System.Net.Sockets.SocketTaskExtensions.ConnectAsync(Socket socket, IPAddress address, Int32 port)
   at System.Data.SqlClient.SNI.SNITCPHandle.ParallelConnectAsync(IPAddress[] serverAddresses, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Data.SqlClient.SNI.SNITCPHandle.<ParallelConnectHelper>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Data.SqlClient.SNI.SNITCPHandle.<ConnectAsync>d__22.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
---> (Inner Exception #0) System.Net.Sockets.SocketException (0x80004005): Cannot assign requested address
   at System.Net.Sockets.Socket.BeginConnectEx(EndPoint remoteEP, Boolean flowContext, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.UnsafeBeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state, Boolean flowContext)
   at System.Net.Sockets.Socket.BeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.BeginConnect(IPAddress address, Int32 port, AsyncCallback requestCallback, Object state)
   at System.Net.Sockets.Socket.ConnectAsync(IPAddress address, Int32 port)
   at System.Net.Sockets.SocketTaskExtensions.ConnectAsync(Socket socket, IPAddress address, Int32 port)
   at System.Data.SqlClient.SNI.SNITCPHandle.ParallelConnectAsync(IPAddress[] serverAddresses, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Data.SqlClient.SNI.SNITCPHandle.<ParallelConnectHelper>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Data.SqlClient.SNI.SNITCPHandle.<ConnectAsync>d__22.MoveNext()<---

   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.<_TrackEntities>d__17`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught) ---> System.AggregateException: One or more errors occurred. (Cannot assign requested address) ---> System.Net.Sockets.SocketException: Cannot assign requested address
   at System.Net.Sockets.Socket.BeginConnectEx(EndPoint remoteEP, Boolean flowContext, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.UnsafeBeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state, Boolean flowContext)
   at System.Net.Sockets.Socket.BeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.BeginConnect(IPAddress address, Int32 port, AsyncCallback requestCallback, Object state)
   at System.Net.Sockets.Socket.ConnectAsync(IPAddress address, Int32 port)
   at System.Net.Sockets.SocketTaskExtensions.ConnectAsync(Socket socket, IPAddress address, Int32 port)
   at System.Data.SqlClient.SNI.SNITCPHandle.ParallelConnectAsync(IPAddress[] serverAddresses, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Data.SqlClient.SNI.SNITCPHandle.<ParallelConnectHelper>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Data.SqlClient.SNI.SNITCPHandle.<ConnectAsync>d__22.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
---> (Inner Exception #0) System.Net.Sockets.SocketException (0x80004005): Cannot assign requested address
   at System.Net.Sockets.Socket.BeginConnectEx(EndPoint remoteEP, Boolean flowContext, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.UnsafeBeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state, Boolean flowContext)
   at System.Net.Sockets.Socket.BeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.BeginConnect(IPAddress address, Int32 port, AsyncCallback requestCallback, Object state)
   at System.Net.Sockets.Socket.ConnectAsync(IPAddress address, Int32 port)
   at System.Net.Sockets.SocketTaskExtensions.ConnectAsync(Socket socket, IPAddress address, Int32 port)
   at System.Data.SqlClient.SNI.SNITCPHandle.ParallelConnectAsync(IPAddress[] serverAddresses, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Data.SqlClient.SNI.SNITCPHandle.<ParallelConnectHelper>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Data.SqlClient.SNI.SNITCPHandle.<ConnectAsync>d__22.MoveNext()<---

   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.<_TrackEntities>d__17`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
2018-02-10 15:42:22.655 +00:00 [ERR] An exception occurred while calculating the database error page content. Skipping display of the database error page.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught) ---> System.AggregateException: One or more errors occurred. (Cannot assign requested address) ---> System.Net.Sockets.SocketException: Cannot assign requested address
   at System.Net.Sockets.Socket.BeginConnectEx(EndPoint remoteEP, Boolean flowContext, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.UnsafeBeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state, Boolean flowContext)
   at System.Net.Sockets.Socket.BeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.BeginConnect(IPAddress address, Int32 port, AsyncCallback requestCallback, Object state)
   at System.Net.Sockets.Socket.ConnectAsync(IPAddress address, Int32 port)
   at System.Net.Sockets.SocketTaskExtensions.ConnectAsync(Socket socket, IPAddress address, Int32 port)
   at System.Data.SqlClient.SNI.SNITCPHandle.ParallelConnectAsync(IPAddress[] serverAddresses, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Data.SqlClient.SNI.SNITCPHandle.<ParallelConnectHelper>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Data.SqlClient.SNI.SNITCPHandle.<ConnectAsync>d__22.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
---> (Inner Exception #0) System.Net.Sockets.SocketException (0x80004005): Cannot assign requested address
   at System.Net.Sockets.Socket.BeginConnectEx(EndPoint remoteEP, Boolean flowContext, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.UnsafeBeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state, Boolean flowContext)
   at System.Net.Sockets.Socket.BeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.BeginConnect(IPAddress address, Int32 port, AsyncCallback requestCallback, Object state)
   at System.Net.Sockets.Socket.ConnectAsync(IPAddress address, Int32 port)
   at System.Net.Sockets.SocketTaskExtensions.ConnectAsync(Socket socket, IPAddress address, Int32 port)
   at System.Data.SqlClient.SNI.SNITCPHandle.ParallelConnectAsync(IPAddress[] serverAddresses, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Data.SqlClient.SNI.SNITCPHandle.<ParallelConnectHelper>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Data.SqlClient.SNI.SNITCPHandle.<ConnectAsync>d__22.MoveNext()<---

   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
2018-02-10 15:42:22.695 +00:00 [ERR] An unhandled exception has occurred while executing the request
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught) ---> System.AggregateException: One or more errors occurred. (Cannot assign requested address) ---> System.Net.Sockets.SocketException: Cannot assign requested address
   at System.Net.Sockets.Socket.BeginConnectEx(EndPoint remoteEP, Boolean flowContext, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.UnsafeBeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state, Boolean flowContext)
   at System.Net.Sockets.Socket.BeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.BeginConnect(IPAddress address, Int32 port, AsyncCallback requestCallback, Object state)
   at System.Net.Sockets.Socket.ConnectAsync(IPAddress address, Int32 port)
   at System.Net.Sockets.SocketTaskExtensions.ConnectAsync(Socket socket, IPAddress address, Int32 port)
   at System.Data.SqlClient.SNI.SNITCPHandle.ParallelConnectAsync(IPAddress[] serverAddresses, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Data.SqlClient.SNI.SNITCPHandle.<ParallelConnectHelper>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Data.SqlClient.SNI.SNITCPHandle.<ConnectAsync>d__22.MoveNext()
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
---> (Inner Exception #0) System.Net.Sockets.SocketException (0x80004005): Cannot assign requested address
   at System.Net.Sockets.Socket.BeginConnectEx(EndPoint remoteEP, Boolean flowContext, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.UnsafeBeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state, Boolean flowContext)
   at System.Net.Sockets.Socket.BeginConnect(EndPoint remoteEP, AsyncCallback callback, Object state)
   at System.Net.Sockets.Socket.BeginConnect(IPAddress address, Int32 port, AsyncCallback requestCallback, Object state)
   at System.Net.Sockets.Socket.ConnectAsync(IPAddress address, Int32 port)
   at System.Net.Sockets.SocketTaskExtensions.ConnectAsync(Socket socket, IPAddress address, Int32 port)
   at System.Data.SqlClient.SNI.SNITCPHandle.ParallelConnectAsync(IPAddress[] serverAddresses, Int32 port)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Data.SqlClient.SNI.SNITCPHandle.<ParallelConnectHelper>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at System.Data.SqlClient.SNI.SNITCPHandle.<ConnectAsync>d__22.MoveNext()<---

   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.<_TrackEntities>d__17`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at IdentityServer4.EntityFramework.Stores.PersistedGrantStore.GetAllAsync(String subjectId) in C:\local\identity\server4\EntityFramework\src\IdentityServer4.EntityFramework\Stores\PersistedGrantStore.cs:line 93
   at IdentityServer4.Services.DefaultPersistedGrantService.<GetAllGrantsAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Services\DefaultPersistedGrantService.cs:line 47
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Services.DefaultIdentityServerInteractionService.<GetAllUserConsentsAsync>d__16.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Services\DefaultIdentityServerInteractionService.cs:line 159
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer4.Quickstart.UI.GrantsController.<BuildViewModelAsync>d__6.MoveNext() in A:\SkripsiItuIndah\AuthServer\Quickstart\Grants\GrantsController.cs:line 57
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer4.Quickstart.UI.GrantsController.<Index>d__4.MoveNext() in A:\SkripsiItuIndah\AuthServer\Quickstart\Grants\GrantsController.cs:line 41
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
ClientConnectionId:00000000-0000-0000-0000-000000000000
2018-02-10 15:43:52.529 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-10 15:43:52.562 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-10 15:43:52.562 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-10 15:43:52.562 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-10 15:43:52.563 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-10 15:43:52.850 +00:00 [DBG] Starting token cleanup
2018-02-10 15:44:07.119 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-02-10 15:44:07.128 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-02-10 15:44:07.129 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-02-10 15:44:07.136 +00:00 [DBG] Start discovery request
2018-02-10 15:44:10.103 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-02-10 15:44:16.771 +00:00 [INF] AuthenticationScheme: idsrv was challenged.
2018-02-10 15:44:21.673 +00:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Username": "bob",
  "SubjectId": "88421113",
  "DisplayName": "bob",
  "Endpoint": "UI",
  "ActivityId": "0HLBGJKDJNK2I:00000006",
  "TimeStamp": "2018-02-10T15:44:21Z",
  "ProcessId": 120,
  "LocalIpAddress": "172.18.0.5:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-10 15:44:21.696 +00:00 [DBG] Augmenting SignInContext
2018-02-10 15:44:21.699 +00:00 [DBG] Adding idp claim with value: local
2018-02-10 15:44:21.699 +00:00 [DBG] Adding amr claim with value: pwd
2018-02-10 15:44:21.714 +00:00 [INF] AuthenticationScheme: idsrv signed in.
2018-02-10 15:44:21.732 +00:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-10 15:44:21.732 +00:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-10 15:44:21.828 +00:00 [DBG] 0 persisted grants found for 88421113
2018-02-10 15:44:35.035 +00:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-10 15:44:35.035 +00:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-10 15:44:37.162 +00:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-10 15:44:37.162 +00:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-10 15:44:37.193 +00:00 [INF] AuthenticationScheme: idsrv signed out.
2018-02-10 15:44:37.206 +00:00 [INF] {
  "Name": "User Logout Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1002,
  "SubjectId": "88421113",
  "DisplayName": "bob",
  "ActivityId": "0HLBGJKDJNK2I:00000009",
  "TimeStamp": "2018-02-10T15:44:37Z",
  "ProcessId": 120,
  "LocalIpAddress": "172.18.0.5:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-10 15:44:42.450 +00:00 [INF] AuthenticationScheme: idsrv was challenged.
2018-02-10 15:44:52.986 +00:00 [INF] {
  "Name": "User Login Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1001,
  "Username": "alice",
  "Endpoint": "UI",
  "Message": "invalid credentials",
  "ActivityId": "0HLBGJKDJNK2I:0000000D",
  "TimeStamp": "2018-02-10T15:44:52Z",
  "ProcessId": 120,
  "LocalIpAddress": "172.18.0.5:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-10 15:44:58.292 +00:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Username": "alice",
  "SubjectId": "818727",
  "DisplayName": "alice",
  "Endpoint": "UI",
  "ActivityId": "0HLBGJKDJNK2I:0000000E",
  "TimeStamp": "2018-02-10T15:44:58Z",
  "ProcessId": 120,
  "LocalIpAddress": "172.18.0.5:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-10 15:44:58.292 +00:00 [DBG] Augmenting SignInContext
2018-02-10 15:44:58.292 +00:00 [DBG] Adding idp claim with value: local
2018-02-10 15:44:58.292 +00:00 [DBG] Adding amr claim with value: pwd
2018-02-10 15:44:58.295 +00:00 [INF] AuthenticationScheme: idsrv signed in.
2018-02-10 15:44:58.308 +00:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-10 15:44:58.309 +00:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-10 15:44:58.320 +00:00 [DBG] 0 persisted grants found for 818727
2018-02-10 15:45:04.686 +00:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-10 15:45:04.687 +00:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-10 16:56:13.070 +00:00 [WRN] No XML encryptor configured. Key "c3099dee-1737-4c7c-84e2-28c82b8e3ea3" may be persisted to storage in unencrypted form.
2018-02-10 16:56:13.415 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-10 16:56:13.415 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-10 16:56:13.416 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-10 16:56:13.420 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-10 16:56:13.421 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-10 16:56:13.737 +00:00 [DBG] Starting token cleanup
2018-02-10 16:57:58.119 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-10 16:57:58.176 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-10 16:57:58.178 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-10 16:57:58.179 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-10 16:57:58.180 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-10 16:57:58.505 +00:00 [DBG] Starting token cleanup
2018-02-10 16:59:40.736 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-10 16:59:40.778 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-10 16:59:40.779 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-10 16:59:40.781 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-10 16:59:40.782 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-10 16:59:41.330 +00:00 [DBG] Starting token cleanup
2018-02-11 08:07:31.785 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-11 08:07:31.909 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-11 08:07:31.914 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-11 08:07:31.916 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-11 08:07:31.918 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-11 08:07:32.519 +00:00 [DBG] Starting token cleanup
2018-02-11 08:08:06.355 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-02-11 08:08:06.363 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-02-11 08:08:06.370 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-02-11 08:08:06.375 +00:00 [DBG] Start discovery request
2018-02-11 08:08:09.272 +00:00 [DBG] Found ["openid","profile","api1","API KRS"] as all scopes in database
2018-02-11 08:08:30.146 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-02-11 08:08:30.146 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-02-11 08:08:30.153 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-02-11 08:08:30.154 +00:00 [DBG] Start discovery request
2018-02-11 08:08:30.172 +00:00 [DBG] Found ["openid","profile","api1","API KRS"] as all scopes in database
2018-02-11 09:07:32.822 +00:00 [INF] Clearing 0 tokens
2018-02-11 10:07:32.920 +00:00 [INF] Clearing 0 tokens
2018-02-11 11:07:33.012 +00:00 [INF] Clearing 0 tokens
2018-02-11 12:07:33.105 +00:00 [INF] Clearing 0 tokens
2018-02-11 20:23:28.331 +07:00 [DBG] Using idsrv as default scheme for authentication
2018-02-11 20:23:28.389 +07:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-11 20:23:28.390 +07:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-11 20:23:28.390 +07:00 [DBG] Using idsrv as default scheme for challenge
2018-02-11 20:23:28.390 +07:00 [DBG] Using idsrv as default scheme for forbid
2018-02-11 20:23:29.051 +07:00 [DBG] Starting token cleanup
2018-02-11 20:23:49.993 +07:00 [INF] AuthenticationScheme: idsrv was challenged.
2018-02-11 20:23:59.415 +07:00 [DBG] CORS request made for path: /account/login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-02-11 20:23:59.771 +07:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Username": "alice",
  "SubjectId": "818727",
  "DisplayName": "alice",
  "Endpoint": "UI",
  "ActivityId": "0HLBHAAHVJ01U:00000003",
  "TimeStamp": "2018-02-11T13:23:59Z",
  "ProcessId": 5940,
  "LocalIpAddress": "127.0.0.1:26130",
  "RemoteIpAddress": "::1"
}
2018-02-11 20:23:59.795 +07:00 [DBG] Augmenting SignInContext
2018-02-11 20:23:59.798 +07:00 [DBG] Adding idp claim with value: local
2018-02-11 20:23:59.798 +07:00 [DBG] Adding amr claim with value: pwd
2018-02-11 20:23:59.814 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2018-02-11 20:23:59.837 +07:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-11 20:23:59.841 +07:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-11 20:24:18.595 +07:00 [DBG] CORS request made for path: /account/login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-02-11 20:24:18.596 +07:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-11 20:24:18.598 +07:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-11 20:24:21.518 +07:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-11 20:24:21.521 +07:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-11 20:24:22.466 +07:00 [ERR] An error occurred using the connection to database 'Identity' on server '172.17.0.1,1433'.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 0 - A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.) ---> System.ComponentModel.Win32Exception (0x80004005): A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:10060,State:0,Class:20
2018-02-11 20:24:22.496 +07:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.PersistedGrantDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. If you are connecting to a SQL Azure database consider using SqlAzureExecutionStrategy. ---> System.Data.SqlClient.SqlException: A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 0 - A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.) ---> System.ComponentModel.Win32Exception: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.<_TrackEntities>d__17`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. If you are connecting to a SQL Azure database consider using SqlAzureExecutionStrategy. ---> System.Data.SqlClient.SqlException: A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 0 - A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.) ---> System.ComponentModel.Win32Exception: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.<_TrackEntities>d__17`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
2018-02-11 20:24:22.853 +07:00 [ERR] An exception occurred while calculating the database error page content. Skipping display of the database error page.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. If you are connecting to a SQL Azure database consider using SqlAzureExecutionStrategy. ---> System.Data.SqlClient.SqlException: A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 0 - A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.) ---> System.ComponentModel.Win32Exception: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
   --- End of inner exception stack trace ---
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.<OpenAsync>d__34.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass20_0.<<ExistsAsync>b__0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.<ExecuteAsync>d__7`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
2018-02-11 20:24:22.875 +07:00 [ERR] An unhandled exception has occurred while executing the request
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. If you are connecting to a SQL Azure database consider using SqlAzureExecutionStrategy. ---> System.Data.SqlClient.SqlException: A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 0 - A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.) ---> System.ComponentModel.Win32Exception: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.<_TrackEntities>d__17`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at IdentityServer4.EntityFramework.Stores.PersistedGrantStore.GetAllAsync(String subjectId) in C:\local\identity\server4\EntityFramework\src\IdentityServer4.EntityFramework\Stores\PersistedGrantStore.cs:line 93
   at IdentityServer4.Services.DefaultPersistedGrantService.<GetAllGrantsAsync>d__4.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Services\DefaultPersistedGrantService.cs:line 47
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Services.DefaultIdentityServerInteractionService.<GetAllUserConsentsAsync>d__16.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Services\DefaultIdentityServerInteractionService.cs:line 159
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer4.Quickstart.UI.GrantsController.<BuildViewModelAsync>d__6.MoveNext() in A:\SkripsiItuIndah\AuthServer\Quickstart\Grants\GrantsController.cs:line 57
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at IdentityServer4.Quickstart.UI.GrantsController.<Index>d__4.MoveNext() in A:\SkripsiItuIndah\AuthServer\Quickstart\Grants\GrantsController.cs:line 41
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.IdentityServerMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.<Invoke>d__7.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at IdentityServer4.Hosting.BaseUrlMiddleware.<Invoke>d__3.MoveNext() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 43
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2018-02-11 20:24:25.910 +07:00 [DBG] CORS request made for path: /account/login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-02-11 20:24:25.911 +07:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-11 20:24:25.913 +07:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-11 20:24:25.954 +07:00 [INF] {
  "Name": "User Login Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1001,
  "Username": "bob",
  "Endpoint": "UI",
  "Message": "invalid credentials",
  "ActivityId": "0HLBHAAHVJ01U:00000004",
  "TimeStamp": "2018-02-11T13:24:25Z",
  "ProcessId": 5940,
  "LocalIpAddress": "127.0.0.1:26130",
  "RemoteIpAddress": "::1"
}
2018-02-11 20:24:29.047 +07:00 [DBG] CORS request made for path: /account/login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-02-11 20:24:29.048 +07:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-11 20:24:29.050 +07:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-11 20:24:29.086 +07:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Username": "bob",
  "SubjectId": "88421113",
  "DisplayName": "bob",
  "Endpoint": "UI",
  "ActivityId": "0HLBHAAHVJ01V:00000004",
  "TimeStamp": "2018-02-11T13:24:29Z",
  "ProcessId": 5940,
  "LocalIpAddress": "127.0.0.1:26130",
  "RemoteIpAddress": "::1"
}
2018-02-11 20:24:29.089 +07:00 [DBG] Augmenting SignInContext
2018-02-11 20:24:29.089 +07:00 [DBG] Adding idp claim with value: local
2018-02-11 20:24:29.089 +07:00 [DBG] Adding amr claim with value: pwd
2018-02-11 20:24:29.090 +07:00 [INF] AuthenticationScheme: idsrv signed in.
2018-02-11 20:24:29.107 +07:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-11 20:24:29.110 +07:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-11 20:24:33.863 +07:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-11 20:24:33.865 +07:00 [INF] AuthenticationScheme: idsrv was successfully authenticated.
2018-02-11 15:11:56.515 +00:00 [WRN] No XML encryptor configured. Key "36f45d47-b5dc-4c05-8a6b-3ef5b96dfea9" may be persisted to storage in unencrypted form.
2018-02-11 15:11:57.415 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-11 15:11:57.416 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-11 15:11:57.417 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-11 15:11:57.418 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-11 15:11:57.418 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-11 15:11:57.783 +00:00 [DBG] Starting token cleanup
2018-02-11 15:17:35.286 +00:00 [WRN] No XML encryptor configured. Key "94c99416-e666-42c7-a109-82cc7754a2a5" may be persisted to storage in unencrypted form.
2018-02-11 15:17:35.679 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-11 15:17:35.680 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-11 15:17:35.689 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-11 15:17:35.697 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-11 15:17:35.699 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-11 15:17:36.034 +00:00 [DBG] Starting token cleanup
2018-02-11 15:29:33.289 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-11 15:29:33.327 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-11 15:29:33.328 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-11 15:29:33.329 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-11 15:29:33.330 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-11 15:29:33.565 +00:00 [DBG] Starting token cleanup
2018-02-11 15:32:12.433 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-11 15:32:12.481 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-11 15:32:12.482 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-11 15:32:12.482 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-11 15:32:12.483 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-11 15:32:12.797 +00:00 [DBG] Starting token cleanup
2018-02-11 15:34:28.747 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-11 15:34:28.778 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-11 15:34:28.778 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-11 15:34:28.780 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-11 15:34:28.780 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-11 15:34:29.100 +00:00 [DBG] Starting token cleanup
2018-02-11 15:41:14.838 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 15:41:14.857 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 15:41:14.858 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 15:41:14.863 +00:00 [WRN] Invalid HTTP request for token endpoint
2018-02-11 15:42:55.509 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 15:42:55.510 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 15:42:55.515 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 15:42:55.545 +00:00 [DBG] Start token request.
2018-02-11 15:42:55.556 +00:00 [DBG] Start client validation
2018-02-11 15:42:55.565 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 15:42:55.572 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 15:42:55.591 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 15:42:55.592 +00:00 [DBG] Secret id found: 1
2018-02-11 15:42:57.343 +00:00 [DBG] 1 found in database: false
2018-02-11 15:42:57.409 +00:00 [INF] {
  "Name": "Client Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1011,
  "ClientId": "1",
  "Message": "Unknown client",
  "ActivityId": "0HLBHCLTGDGDC:00000002",
  "TimeStamp": "2018-02-11T15:42:57Z",
  "ProcessId": 509,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 15:42:57.410 +00:00 [ERR] No client with id '1' found. aborting
2018-02-11 15:43:32.890 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 15:43:32.891 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 15:43:32.891 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 15:43:32.891 +00:00 [DBG] Start token request.
2018-02-11 15:43:32.891 +00:00 [DBG] Start client validation
2018-02-11 15:43:32.891 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 15:43:32.891 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 15:43:32.895 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 15:43:32.895 +00:00 [DBG] Secret id found: client
2018-02-11 15:43:33.408 +00:00 [DBG] client found in database: true
2018-02-11 15:43:33.418 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 15:43:33.418 +00:00 [DBG] Client validation success
2018-02-11 15:43:33.425 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHCLTGDGDC:00000003",
  "TimeStamp": "2018-02-11T15:43:33Z",
  "ProcessId": 509,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 15:43:33.440 +00:00 [DBG] Start token request validation
2018-02-11 15:43:33.449 +00:00 [DBG] Start client credentials token request validation
2018-02-11 15:43:33.497 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 15:43:33.681 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 15:43:33.715 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 15:43:33.722 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 15:43:33.727 +00:00 [DBG] client credentials token request validation success
2018-02-11 15:43:33.750 +00:00 [INF] Token request validation success
{
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credentials",
  "Scopes": "api1",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 15:43:33.779 +00:00 [DBG] Getting claims for access token for client: client
2018-02-11 15:43:33.939 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "Scopes": "api1",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****i6ig"
    }
  ],
  "ActivityId": "0HLBHCLTGDGDC:00000003",
  "TimeStamp": "2018-02-11T15:43:33Z",
  "ProcessId": 509,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 15:43:33.941 +00:00 [DBG] Token request success.
2018-02-11 16:01:06.333 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:01:06.333 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:01:06.333 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:01:06.333 +00:00 [DBG] Start token request.
2018-02-11 16:01:06.333 +00:00 [DBG] Start client validation
2018-02-11 16:01:06.333 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:01:06.333 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:01:06.341 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:01:06.341 +00:00 [DBG] Secret id found: client
2018-02-11 16:01:06.493 +00:00 [DBG] client found in database: true
2018-02-11 16:01:06.494 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:01:06.494 +00:00 [DBG] Client validation success
2018-02-11 16:01:06.495 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHCLTGDGDC:00000004",
  "TimeStamp": "2018-02-11T16:01:06Z",
  "ProcessId": 509,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:01:06.499 +00:00 [DBG] Start token request validation
2018-02-11 16:01:06.499 +00:00 [DBG] Start client credentials token request validation
2018-02-11 16:01:06.504 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:01:06.511 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:01:06.513 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:01:06.519 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:01:06.519 +00:00 [DBG] client credentials token request validation success
2018-02-11 16:01:06.520 +00:00 [INF] Token request validation success
{
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credentials",
  "Scopes": "api1",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:01:06.521 +00:00 [DBG] Getting claims for access token for client: client
2018-02-11 16:01:06.524 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "Scopes": "api1",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****grMQ"
    }
  ],
  "ActivityId": "0HLBHCLTGDGDC:00000004",
  "TimeStamp": "2018-02-11T16:01:06Z",
  "ProcessId": 509,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:01:06.524 +00:00 [DBG] Token request success.
2018-02-11 16:05:01.516 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:05:01.517 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:05:01.517 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:05:01.517 +00:00 [DBG] Start token request.
2018-02-11 16:05:01.517 +00:00 [DBG] Start client validation
2018-02-11 16:05:01.517 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:05:01.517 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:05:01.522 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:05:01.523 +00:00 [DBG] Secret id found: client
2018-02-11 16:05:01.534 +00:00 [DBG] client found in database: true
2018-02-11 16:05:01.535 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:05:01.535 +00:00 [DBG] Client validation success
2018-02-11 16:05:01.535 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHCLTGDGDC:00000005",
  "TimeStamp": "2018-02-11T16:05:01Z",
  "ProcessId": 509,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:05:01.536 +00:00 [DBG] Start token request validation
2018-02-11 16:05:01.536 +00:00 [DBG] Start client credentials token request validation
2018-02-11 16:05:01.538 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:05:01.543 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:05:01.545 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:05:01.550 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:05:01.551 +00:00 [DBG] client credentials token request validation success
2018-02-11 16:05:01.551 +00:00 [INF] Token request validation success
{
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credentials",
  "Scopes": "api1",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:05:01.552 +00:00 [DBG] Getting claims for access token for client: client
2018-02-11 16:05:01.555 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "Scopes": "api1",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****XWIQ"
    }
  ],
  "ActivityId": "0HLBHCLTGDGDC:00000005",
  "TimeStamp": "2018-02-11T16:05:01Z",
  "ProcessId": 509,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:05:01.556 +00:00 [DBG] Token request success.
2018-02-11 16:10:04.444 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-11 16:10:04.498 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-11 16:10:04.501 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-11 16:10:04.502 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-11 16:10:04.503 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-11 16:10:04.725 +00:00 [DBG] Starting token cleanup
2018-02-11 16:11:02.423 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:11:02.437 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:11:02.438 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:11:02.451 +00:00 [DBG] Start token request.
2018-02-11 16:11:02.459 +00:00 [DBG] Start client validation
2018-02-11 16:11:02.465 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:11:02.471 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:11:02.492 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:11:02.493 +00:00 [DBG] Secret id found: client
2018-02-11 16:11:04.374 +00:00 [DBG] client found in database: true
2018-02-11 16:11:04.392 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:11:04.393 +00:00 [DBG] Client validation success
2018-02-11 16:11:04.489 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHD802J6M3:00000001",
  "TimeStamp": "2018-02-11T16:11:04Z",
  "ProcessId": 1448,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:11:04.506 +00:00 [DBG] Start token request validation
2018-02-11 16:11:04.517 +00:00 [DBG] Start client credentials token request validation
2018-02-11 16:11:04.572 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:11:04.754 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:11:04.774 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:11:04.782 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:11:04.788 +00:00 [DBG] client credentials token request validation success
2018-02-11 16:11:04.820 +00:00 [INF] Token request validation success
{
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credentials",
  "Scopes": "api1",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:11:04.848 +00:00 [DBG] Getting claims for access token for client: client
2018-02-11 16:11:04.960 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "Scopes": "api1",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****6m4Q"
    }
  ],
  "ActivityId": "0HLBHD802J6M3:00000001",
  "TimeStamp": "2018-02-11T16:11:04Z",
  "ProcessId": 1448,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:11:04.964 +00:00 [DBG] Token request success.
2018-02-11 16:11:06.647 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:11:06.648 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:11:06.648 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:11:06.649 +00:00 [DBG] Start token request.
2018-02-11 16:11:06.649 +00:00 [DBG] Start client validation
2018-02-11 16:11:06.649 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:11:06.649 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:11:06.660 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:11:06.660 +00:00 [DBG] Secret id found: client
2018-02-11 16:11:06.743 +00:00 [DBG] client found in database: true
2018-02-11 16:11:06.744 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:11:06.744 +00:00 [DBG] Client validation success
2018-02-11 16:11:06.744 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHD802J6M3:00000002",
  "TimeStamp": "2018-02-11T16:11:06Z",
  "ProcessId": 1448,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:11:06.745 +00:00 [DBG] Start token request validation
2018-02-11 16:11:06.746 +00:00 [DBG] Start client credentials token request validation
2018-02-11 16:11:06.748 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:11:06.761 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:11:06.764 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:11:06.772 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:11:06.772 +00:00 [DBG] client credentials token request validation success
2018-02-11 16:11:06.773 +00:00 [INF] Token request validation success
{
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credentials",
  "Scopes": "api1",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:11:06.774 +00:00 [DBG] Getting claims for access token for client: client
2018-02-11 16:11:06.782 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "Scopes": "api1",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****tuQQ"
    }
  ],
  "ActivityId": "0HLBHD802J6M3:00000002",
  "TimeStamp": "2018-02-11T16:11:06Z",
  "ProcessId": 1448,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:11:06.782 +00:00 [DBG] Token request success.
2018-02-11 16:11:08.742 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:11:08.743 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:11:08.743 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:11:08.743 +00:00 [DBG] Start token request.
2018-02-11 16:11:08.743 +00:00 [DBG] Start client validation
2018-02-11 16:11:08.743 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:11:08.743 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:11:08.752 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:11:08.752 +00:00 [DBG] Secret id found: client
2018-02-11 16:11:08.764 +00:00 [DBG] client found in database: true
2018-02-11 16:11:08.764 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:11:08.765 +00:00 [DBG] Client validation success
2018-02-11 16:11:08.765 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHD802J6M3:00000003",
  "TimeStamp": "2018-02-11T16:11:08Z",
  "ProcessId": 1448,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:11:08.767 +00:00 [DBG] Start token request validation
2018-02-11 16:11:08.768 +00:00 [DBG] Start client credentials token request validation
2018-02-11 16:11:08.771 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:11:08.781 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:11:08.784 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:11:08.789 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:11:08.789 +00:00 [DBG] client credentials token request validation success
2018-02-11 16:11:08.790 +00:00 [INF] Token request validation success
{
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credentials",
  "Scopes": "api1",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:11:08.790 +00:00 [DBG] Getting claims for access token for client: client
2018-02-11 16:11:08.793 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "Scopes": "api1",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****4QJg"
    }
  ],
  "ActivityId": "0HLBHD802J6M3:00000003",
  "TimeStamp": "2018-02-11T16:11:08Z",
  "ProcessId": 1448,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:11:08.793 +00:00 [DBG] Token request success.
2018-02-11 16:11:11.046 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:11:11.047 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:11:11.047 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:11:11.047 +00:00 [DBG] Start token request.
2018-02-11 16:11:11.047 +00:00 [DBG] Start client validation
2018-02-11 16:11:11.047 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:11:11.047 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:11:11.068 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:11:11.068 +00:00 [DBG] Secret id found: client
2018-02-11 16:11:11.080 +00:00 [DBG] client found in database: true
2018-02-11 16:11:11.080 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:11:11.080 +00:00 [DBG] Client validation success
2018-02-11 16:11:11.086 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHD802J6M3:00000004",
  "TimeStamp": "2018-02-11T16:11:11Z",
  "ProcessId": 1448,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:11:11.086 +00:00 [DBG] Start token request validation
2018-02-11 16:11:11.086 +00:00 [DBG] Start client credentials token request validation
2018-02-11 16:11:11.091 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:11:11.105 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:11:11.107 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:11:11.113 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:11:11.115 +00:00 [DBG] client credentials token request validation success
2018-02-11 16:11:11.116 +00:00 [INF] Token request validation success
{
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credentials",
  "Scopes": "api1",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:11:11.117 +00:00 [DBG] Getting claims for access token for client: client
2018-02-11 16:11:11.119 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "Scopes": "api1",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****i15w"
    }
  ],
  "ActivityId": "0HLBHD802J6M3:00000004",
  "TimeStamp": "2018-02-11T16:11:11Z",
  "ProcessId": 1448,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:11:11.129 +00:00 [DBG] Token request success.
2018-02-11 16:14:56.500 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-11 16:14:56.587 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-11 16:14:56.589 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-11 16:14:56.590 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-11 16:14:56.591 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-11 16:14:56.958 +00:00 [DBG] Starting token cleanup
2018-02-11 16:15:55.877 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-11 16:15:55.908 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-11 16:15:55.910 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-11 16:15:55.916 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-11 16:15:55.921 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-11 16:15:56.154 +00:00 [DBG] Starting token cleanup
2018-02-11 16:18:11.682 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-11 16:18:11.723 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-11 16:18:11.726 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-11 16:18:11.727 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-11 16:18:11.729 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-11 16:18:12.037 +00:00 [DBG] Starting token cleanup
2018-02-11 16:18:31.409 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:18:31.429 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:18:31.430 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:18:31.444 +00:00 [DBG] Start token request.
2018-02-11 16:18:31.466 +00:00 [DBG] Start client validation
2018-02-11 16:18:31.483 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:18:31.491 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:18:31.569 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:18:31.570 +00:00 [DBG] Secret id found: client
2018-02-11 16:18:33.054 +00:00 [DBG] client found in database: true
2018-02-11 16:18:33.068 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:18:33.069 +00:00 [DBG] Client validation success
2018-02-11 16:18:33.144 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDCBL33T4:00000001",
  "TimeStamp": "2018-02-11T16:18:33Z",
  "ProcessId": 1696,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:18:33.158 +00:00 [DBG] Start token request validation
2018-02-11 16:18:33.167 +00:00 [DBG] Start client credentials token request validation
2018-02-11 16:18:33.210 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:18:33.349 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:18:33.371 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:18:33.380 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:18:33.384 +00:00 [DBG] client credentials token request validation success
2018-02-11 16:18:33.405 +00:00 [INF] Token request validation success
{
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credentials",
  "Scopes": "api1",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:18:33.439 +00:00 [DBG] Getting claims for access token for client: client
2018-02-11 16:18:33.525 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "Scopes": "api1",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****ivHQ"
    }
  ],
  "ActivityId": "0HLBHDCBL33T4:00000001",
  "TimeStamp": "2018-02-11T16:18:33Z",
  "ProcessId": 1696,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:18:33.533 +00:00 [DBG] Token request success.
2018-02-11 16:20:57.403 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-11 16:20:57.478 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-11 16:20:57.479 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-11 16:20:57.483 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-11 16:20:57.484 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-11 16:20:57.896 +00:00 [DBG] Starting token cleanup
2018-02-11 16:21:03.760 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:21:03.776 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:21:03.778 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:21:03.788 +00:00 [DBG] Start token request.
2018-02-11 16:21:03.796 +00:00 [DBG] Start client validation
2018-02-11 16:21:03.803 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:21:03.807 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:21:03.840 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:21:03.841 +00:00 [DBG] Secret id found: client
2018-02-11 16:21:05.776 +00:00 [DBG] client found in database: true
2018-02-11 16:21:05.791 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:21:05.791 +00:00 [DBG] Client validation success
2018-02-11 16:21:05.896 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDDP4FJFT:00000001",
  "TimeStamp": "2018-02-11T16:21:05Z",
  "ProcessId": 1782,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:21:05.926 +00:00 [DBG] Start token request validation
2018-02-11 16:21:05.940 +00:00 [DBG] Start client credentials token request validation
2018-02-11 16:21:06.035 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:21:06.273 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:21:06.297 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:21:06.305 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:21:06.310 +00:00 [DBG] client credentials token request validation success
2018-02-11 16:21:06.337 +00:00 [INF] Token request validation success
{
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credentials",
  "Scopes": "api1",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:21:06.376 +00:00 [DBG] Getting claims for access token for client: client
2018-02-11 16:21:06.516 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "Scopes": "api1",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****s_7Q"
    }
  ],
  "ActivityId": "0HLBHDDP4FJFT:00000001",
  "TimeStamp": "2018-02-11T16:21:06Z",
  "ProcessId": 1782,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:21:06.522 +00:00 [DBG] Token request success.
2018-02-11 16:23:38.244 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-11 16:23:38.278 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-11 16:23:38.279 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-11 16:23:38.280 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-11 16:23:38.283 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-11 16:23:38.572 +00:00 [DBG] Starting token cleanup
2018-02-11 16:23:50.695 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:23:50.706 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:23:50.707 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:23:50.718 +00:00 [DBG] Start token request.
2018-02-11 16:23:50.725 +00:00 [DBG] Start client validation
2018-02-11 16:23:50.731 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:23:50.736 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:23:50.778 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:23:50.779 +00:00 [DBG] Secret id found: client
2018-02-11 16:23:52.395 +00:00 [DBG] client found in database: true
2018-02-11 16:23:52.415 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:23:52.416 +00:00 [DBG] Client validation success
2018-02-11 16:23:52.518 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDFASQG2M:00000001",
  "TimeStamp": "2018-02-11T16:23:52Z",
  "ProcessId": 1871,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:23:52.532 +00:00 [DBG] Start token request validation
2018-02-11 16:23:52.540 +00:00 [DBG] Start client credentials token request validation
2018-02-11 16:23:52.585 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:23:52.737 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:23:52.753 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:23:52.762 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:23:52.766 +00:00 [DBG] client credentials token request validation success
2018-02-11 16:23:52.787 +00:00 [INF] Token request validation success
{
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credentials",
  "Scopes": "api1",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:23:52.838 +00:00 [DBG] Getting claims for access token for client: client
2018-02-11 16:23:52.928 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "Scopes": "api1",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****Ihsg"
    }
  ],
  "ActivityId": "0HLBHDFASQG2M:00000001",
  "TimeStamp": "2018-02-11T16:23:52Z",
  "ProcessId": 1871,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:23:52.932 +00:00 [DBG] Token request success.
2018-02-11 16:27:23.798 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-11 16:27:23.839 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-11 16:27:23.841 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-11 16:27:23.843 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-11 16:27:23.844 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-11 16:27:24.078 +00:00 [DBG] Starting token cleanup
2018-02-11 16:27:32.599 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:27:32.609 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:27:32.610 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:27:32.620 +00:00 [DBG] Start token request.
2018-02-11 16:27:32.627 +00:00 [DBG] Start client validation
2018-02-11 16:27:32.633 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:27:32.637 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:27:32.670 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:27:32.670 +00:00 [DBG] Secret id found: client
2018-02-11 16:27:34.126 +00:00 [DBG] client found in database: true
2018-02-11 16:27:34.140 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:27:34.140 +00:00 [DBG] Client validation success
2018-02-11 16:27:34.230 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDHD13RLC:00000001",
  "TimeStamp": "2018-02-11T16:27:34Z",
  "ProcessId": 1932,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:27:34.252 +00:00 [DBG] Start token request validation
2018-02-11 16:27:34.260 +00:00 [DBG] Start client credentials token request validation
2018-02-11 16:27:34.306 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:27:34.494 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:27:34.511 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:27:34.518 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:27:34.522 +00:00 [DBG] client credentials token request validation success
2018-02-11 16:27:34.544 +00:00 [INF] Token request validation success
{
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credentials",
  "Scopes": "api1",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:27:34.568 +00:00 [DBG] Getting claims for access token for client: client
2018-02-11 16:27:34.650 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "Scopes": "api1",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****Y0Pw"
    }
  ],
  "ActivityId": "0HLBHDHD13RLC:00000001",
  "TimeStamp": "2018-02-11T16:27:34Z",
  "ProcessId": 1932,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:27:34.652 +00:00 [DBG] Token request success.
2018-02-11 16:50:23.878 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-11 16:50:23.939 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-11 16:50:23.941 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-11 16:50:23.943 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-11 16:50:23.945 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-11 16:50:24.439 +00:00 [DBG] Starting token cleanup
2018-02-11 16:50:34.781 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:50:34.790 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:50:34.791 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:50:34.801 +00:00 [DBG] Start token request.
2018-02-11 16:50:34.821 +00:00 [DBG] Start client validation
2018-02-11 16:50:34.828 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:50:34.833 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:50:34.865 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:50:34.865 +00:00 [DBG] Secret id found: client
2018-02-11 16:50:36.872 +00:00 [DBG] client found in database: true
2018-02-11 16:50:36.898 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:50:36.898 +00:00 [DBG] Client validation success
2018-02-11 16:50:37.015 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDU8GT9IB:00000001",
  "TimeStamp": "2018-02-11T16:50:36Z",
  "ProcessId": 2096,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:50:37.031 +00:00 [DBG] Start token request validation
2018-02-11 16:50:37.040 +00:00 [DBG] Start client credentials token request validation
2018-02-11 16:50:37.118 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:50:37.360 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:50:37.377 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:50:37.383 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:50:37.389 +00:00 [DBG] client credentials token request validation success
2018-02-11 16:50:37.413 +00:00 [INF] Token request validation success
{
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credentials",
  "Scopes": "api1",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:50:37.449 +00:00 [DBG] Getting claims for access token for client: client
2018-02-11 16:50:37.544 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "Scopes": "api1",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****Z5qA"
    }
  ],
  "ActivityId": "0HLBHDU8GT9IB:00000001",
  "TimeStamp": "2018-02-11T16:50:37Z",
  "ProcessId": 2096,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:50:37.547 +00:00 [DBG] Token request success.
2018-02-11 16:52:01.177 +00:00 [DBG] Using idsrv as default scheme for authentication
2018-02-11 16:52:01.227 +00:00 [DBG] Using idsrv as default scheme for sign-in
2018-02-11 16:52:01.228 +00:00 [DBG] Using idsrv as default scheme for sign-out
2018-02-11 16:52:01.228 +00:00 [DBG] Using idsrv as default scheme for challenge
2018-02-11 16:52:01.229 +00:00 [DBG] Using idsrv as default scheme for forbid
2018-02-11 16:52:01.540 +00:00 [DBG] Starting token cleanup
2018-02-11 16:52:20.522 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:52:20.532 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:52:20.533 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:52:20.544 +00:00 [DBG] Start token request.
2018-02-11 16:52:20.558 +00:00 [DBG] Start client validation
2018-02-11 16:52:20.564 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:52:20.570 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:52:20.608 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:52:20.609 +00:00 [DBG] Secret id found: client
2018-02-11 16:52:22.175 +00:00 [DBG] client found in database: true
2018-02-11 16:52:22.191 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:52:22.191 +00:00 [DBG] Client validation success
2018-02-11 16:52:22.271 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDV8EOLOK:00000001",
  "TimeStamp": "2018-02-11T16:52:22Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:52:22.286 +00:00 [DBG] Start token request validation
2018-02-11 16:52:22.295 +00:00 [DBG] Start client credentials token request validation
2018-02-11 16:52:22.358 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:52:22.518 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:52:22.535 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:52:22.543 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:52:22.548 +00:00 [DBG] client credentials token request validation success
2018-02-11 16:52:22.572 +00:00 [INF] Token request validation success
{
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credentials",
  "Scopes": "api1",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:52:22.605 +00:00 [DBG] Getting claims for access token for client: client
2018-02-11 16:52:22.710 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "Scopes": "api1",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****4x3Q"
    }
  ],
  "ActivityId": "0HLBHDV8EOLOK:00000001",
  "TimeStamp": "2018-02-11T16:52:22Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:52:22.715 +00:00 [DBG] Token request success.
2018-02-11 16:52:26.001 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:52:26.001 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:52:26.001 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:52:26.001 +00:00 [DBG] Start token request.
2018-02-11 16:52:26.001 +00:00 [DBG] Start client validation
2018-02-11 16:52:26.001 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:52:26.001 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:52:26.015 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:52:26.015 +00:00 [DBG] Secret id found: client2
2018-02-11 16:52:26.024 +00:00 [DBG] client2 found in database: false
2018-02-11 16:52:26.039 +00:00 [INF] {
  "Name": "Client Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1011,
  "ClientId": "client2",
  "Message": "Unknown client",
  "ActivityId": "0HLBHDV8EOLOK:00000002",
  "TimeStamp": "2018-02-11T16:52:26Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:52:26.039 +00:00 [ERR] No client with id 'client2' found. aborting
2018-02-11 16:52:32.677 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:52:32.681 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:52:32.681 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:52:32.682 +00:00 [DBG] Start token request.
2018-02-11 16:52:32.682 +00:00 [DBG] Start client validation
2018-02-11 16:52:32.682 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:52:32.682 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:52:32.686 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:52:32.691 +00:00 [DBG] Secret id found: client
2018-02-11 16:52:32.705 +00:00 [DBG] client found in database: true
2018-02-11 16:52:32.706 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:52:32.706 +00:00 [DBG] Client validation success
2018-02-11 16:52:32.708 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDV8EOLOK:00000003",
  "TimeStamp": "2018-02-11T16:52:32Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:52:32.712 +00:00 [DBG] Start token request validation
2018-02-11 16:52:32.714 +00:00 [DBG] Start client credentials token request validation
2018-02-11 16:52:32.723 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:52:32.729 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:52:32.730 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:52:32.737 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:52:32.738 +00:00 [DBG] client credentials token request validation success
2018-02-11 16:52:32.739 +00:00 [INF] Token request validation success
{
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credentials",
  "Scopes": "api1",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:52:32.742 +00:00 [DBG] Getting claims for access token for client: client
2018-02-11 16:52:32.744 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "Scopes": "api1",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****LBlQ"
    }
  ],
  "ActivityId": "0HLBHDV8EOLOK:00000003",
  "TimeStamp": "2018-02-11T16:52:32Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:52:32.745 +00:00 [DBG] Token request success.
2018-02-11 16:53:12.240 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:53:12.240 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:53:12.240 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:53:12.240 +00:00 [DBG] Start token request.
2018-02-11 16:53:12.240 +00:00 [DBG] Start client validation
2018-02-11 16:53:12.241 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:53:12.241 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:53:12.243 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:53:12.243 +00:00 [DBG] Secret id found: client
2018-02-11 16:53:12.262 +00:00 [DBG] client found in database: true
2018-02-11 16:53:12.262 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:53:12.262 +00:00 [DBG] Client validation success
2018-02-11 16:53:12.263 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDV8EOLOK:00000004",
  "TimeStamp": "2018-02-11T16:53:12Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:53:12.263 +00:00 [DBG] Start token request validation
2018-02-11 16:53:12.271 +00:00 [DBG] Start validation of custom grant token request
2018-02-11 16:53:12.272 +00:00 [ERR] client does not have the custom grant type in the allowed list, therefore requested grant is not allowed
2018-02-11 16:53:12.272 +00:00 [ERR] {
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "hybrid",
  "Raw": {
    "grant_type": "hybrid",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:53:12.290 +00:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "GrantType": "hybrid",
  "Error": "unsupported_grant_type",
  "ActivityId": "0HLBHDV8EOLOK:00000004",
  "TimeStamp": "2018-02-11T16:53:12Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:53:42.243 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:53:42.244 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:53:42.244 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:53:42.245 +00:00 [DBG] Start token request.
2018-02-11 16:53:42.245 +00:00 [DBG] Start client validation
2018-02-11 16:53:42.245 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:53:42.245 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:53:42.247 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:53:42.247 +00:00 [DBG] Secret id found: client
2018-02-11 16:53:42.267 +00:00 [DBG] client found in database: true
2018-02-11 16:53:42.267 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:53:42.267 +00:00 [DBG] Client validation success
2018-02-11 16:53:42.267 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDV8EOLOK:00000005",
  "TimeStamp": "2018-02-11T16:53:42Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:53:42.272 +00:00 [DBG] Start token request validation
2018-02-11 16:53:42.274 +00:00 [DBG] Start validation of custom grant token request
2018-02-11 16:53:42.275 +00:00 [ERR] client does not have the custom grant type in the allowed list, therefore requested grant is not allowed
2018-02-11 16:53:42.276 +00:00 [ERR] {
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credential",
  "Raw": {
    "grant_type": "client_credential",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:53:42.276 +00:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "GrantType": "client_credential",
  "Error": "unsupported_grant_type",
  "ActivityId": "0HLBHDV8EOLOK:00000005",
  "TimeStamp": "2018-02-11T16:53:42Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:53:43.880 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:53:43.880 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:53:43.880 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:53:43.881 +00:00 [DBG] Start token request.
2018-02-11 16:53:43.881 +00:00 [DBG] Start client validation
2018-02-11 16:53:43.881 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:53:43.881 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:53:43.884 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:53:43.884 +00:00 [DBG] Secret id found: client
2018-02-11 16:53:43.899 +00:00 [DBG] client found in database: true
2018-02-11 16:53:43.899 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:53:43.900 +00:00 [DBG] Client validation success
2018-02-11 16:53:43.901 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDV8EOLOK:00000006",
  "TimeStamp": "2018-02-11T16:53:43Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:53:43.904 +00:00 [DBG] Start token request validation
2018-02-11 16:53:43.904 +00:00 [DBG] Start validation of custom grant token request
2018-02-11 16:53:43.905 +00:00 [ERR] client does not have the custom grant type in the allowed list, therefore requested grant is not allowed
2018-02-11 16:53:43.905 +00:00 [ERR] {
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credential",
  "Raw": {
    "grant_type": "client_credential",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:53:43.915 +00:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "GrantType": "client_credential",
  "Error": "unsupported_grant_type",
  "ActivityId": "0HLBHDV8EOLOK:00000006",
  "TimeStamp": "2018-02-11T16:53:43Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:54:05.847 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:54:05.847 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:54:05.847 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:54:05.847 +00:00 [DBG] Start token request.
2018-02-11 16:54:05.847 +00:00 [DBG] Start client validation
2018-02-11 16:54:05.847 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:54:05.847 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:54:05.856 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:54:05.856 +00:00 [DBG] Secret id found: client
2018-02-11 16:54:05.867 +00:00 [DBG] client found in database: true
2018-02-11 16:54:05.868 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:54:05.868 +00:00 [DBG] Client validation success
2018-02-11 16:54:05.868 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDV8EOLOK:00000007",
  "TimeStamp": "2018-02-11T16:54:05Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:54:05.874 +00:00 [DBG] Start token request validation
2018-02-11 16:54:05.876 +00:00 [DBG] Start validation of custom grant token request
2018-02-11 16:54:05.877 +00:00 [ERR] client does not have the custom grant type in the allowed list, therefore requested grant is not allowed
2018-02-11 16:54:05.880 +00:00 [ERR] {
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "clirent_credentials",
  "Raw": {
    "grant_type": "clirent_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:54:05.880 +00:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "GrantType": "clirent_credentials",
  "Error": "unsupported_grant_type",
  "ActivityId": "0HLBHDV8EOLOK:00000007",
  "TimeStamp": "2018-02-11T16:54:05Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:54:07.989 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:54:07.989 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:54:07.989 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:54:07.989 +00:00 [DBG] Start token request.
2018-02-11 16:54:07.989 +00:00 [DBG] Start client validation
2018-02-11 16:54:07.990 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:54:07.990 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:54:07.994 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:54:07.994 +00:00 [DBG] Secret id found: client
2018-02-11 16:54:08.006 +00:00 [DBG] client found in database: true
2018-02-11 16:54:08.006 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:54:08.006 +00:00 [DBG] Client validation success
2018-02-11 16:54:08.006 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDV8EOLOK:00000008",
  "TimeStamp": "2018-02-11T16:54:08Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:54:08.007 +00:00 [DBG] Start token request validation
2018-02-11 16:54:08.008 +00:00 [DBG] Start validation of custom grant token request
2018-02-11 16:54:08.009 +00:00 [ERR] client does not have the custom grant type in the allowed list, therefore requested grant is not allowed
2018-02-11 16:54:08.009 +00:00 [ERR] {
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "clirent_credentials",
  "Raw": {
    "grant_type": "clirent_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:54:08.010 +00:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "GrantType": "clirent_credentials",
  "Error": "unsupported_grant_type",
  "ActivityId": "0HLBHDV8EOLOK:00000008",
  "TimeStamp": "2018-02-11T16:54:08Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:54:08.884 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:54:08.884 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:54:08.884 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:54:08.885 +00:00 [DBG] Start token request.
2018-02-11 16:54:08.885 +00:00 [DBG] Start client validation
2018-02-11 16:54:08.885 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:54:08.886 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:54:08.896 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:54:08.896 +00:00 [DBG] Secret id found: client
2018-02-11 16:54:08.906 +00:00 [DBG] client found in database: true
2018-02-11 16:54:08.906 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:54:08.906 +00:00 [DBG] Client validation success
2018-02-11 16:54:08.907 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDV8EOLOK:00000009",
  "TimeStamp": "2018-02-11T16:54:08Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:54:08.909 +00:00 [DBG] Start token request validation
2018-02-11 16:54:08.909 +00:00 [DBG] Start validation of custom grant token request
2018-02-11 16:54:08.910 +00:00 [ERR] client does not have the custom grant type in the allowed list, therefore requested grant is not allowed
2018-02-11 16:54:08.912 +00:00 [ERR] {
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "clirent_credentials",
  "Raw": {
    "grant_type": "clirent_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:54:08.913 +00:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "GrantType": "clirent_credentials",
  "Error": "unsupported_grant_type",
  "ActivityId": "0HLBHDV8EOLOK:00000009",
  "TimeStamp": "2018-02-11T16:54:08Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:54:14.613 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:54:14.614 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:54:14.614 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:54:14.614 +00:00 [DBG] Start token request.
2018-02-11 16:54:14.614 +00:00 [DBG] Start client validation
2018-02-11 16:54:14.614 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:54:14.614 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:54:14.617 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:54:14.618 +00:00 [DBG] Secret id found: client
2018-02-11 16:54:14.631 +00:00 [DBG] client found in database: true
2018-02-11 16:54:14.631 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:54:14.631 +00:00 [DBG] Client validation success
2018-02-11 16:54:14.632 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDV8EOLOK:0000000A",
  "TimeStamp": "2018-02-11T16:54:14Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:54:14.632 +00:00 [DBG] Start token request validation
2018-02-11 16:54:14.632 +00:00 [DBG] Start client credentials token request validation
2018-02-11 16:54:14.634 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:54:14.645 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:54:14.647 +00:00 [DBG] Found [] identity scopes in database
2018-02-11 16:54:14.660 +00:00 [DBG] Found ["api1"] API scopes in database
2018-02-11 16:54:14.660 +00:00 [DBG] client credentials token request validation success
2018-02-11 16:54:14.660 +00:00 [INF] Token request validation success
{
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credentials",
  "Scopes": "api1",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:54:14.660 +00:00 [DBG] Getting claims for access token for client: client
2018-02-11 16:54:14.662 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "Scopes": "api1",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****ae_A"
    }
  ],
  "ActivityId": "0HLBHDV8EOLOK:0000000A",
  "TimeStamp": "2018-02-11T16:54:14Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:54:14.663 +00:00 [DBG] Token request success.
2018-02-11 16:55:32.868 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:55:32.869 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:55:32.869 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:55:32.869 +00:00 [DBG] Start token request.
2018-02-11 16:55:32.869 +00:00 [DBG] Start client validation
2018-02-11 16:55:32.869 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:55:32.869 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:55:32.873 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:55:32.873 +00:00 [DBG] Secret id found: client
2018-02-11 16:55:32.895 +00:00 [DBG] client found in database: true
2018-02-11 16:55:32.895 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:55:32.896 +00:00 [DBG] Client validation success
2018-02-11 16:55:32.896 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDV8EOLOK:0000000B",
  "TimeStamp": "2018-02-11T16:55:32Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:55:32.896 +00:00 [DBG] Start token request validation
2018-02-11 16:55:32.924 +00:00 [DBG] Start validation of authorization code token request
2018-02-11 16:55:32.924 +00:00 [ERR] Client not authorized for code flow
2018-02-11 16:55:32.924 +00:00 [ERR] {
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "authorization_code",
  "Raw": {
    "grant_type": "authorization_code",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:55:32.924 +00:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "GrantType": "authorization_code",
  "Error": "unauthorized_client",
  "ActivityId": "0HLBHDV8EOLOK:0000000B",
  "TimeStamp": "2018-02-11T16:55:32Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:55:34.025 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:55:34.026 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:55:34.026 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:55:34.026 +00:00 [DBG] Start token request.
2018-02-11 16:55:34.026 +00:00 [DBG] Start client validation
2018-02-11 16:55:34.026 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:55:34.026 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:55:34.032 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:55:34.032 +00:00 [DBG] Secret id found: client
2018-02-11 16:55:34.045 +00:00 [DBG] client found in database: true
2018-02-11 16:55:34.046 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:55:34.046 +00:00 [DBG] Client validation success
2018-02-11 16:55:34.046 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDV8EOLOK:0000000C",
  "TimeStamp": "2018-02-11T16:55:34Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:55:34.046 +00:00 [DBG] Start token request validation
2018-02-11 16:55:34.047 +00:00 [DBG] Start validation of authorization code token request
2018-02-11 16:55:34.047 +00:00 [ERR] Client not authorized for code flow
2018-02-11 16:55:34.047 +00:00 [ERR] {
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "authorization_code",
  "Raw": {
    "grant_type": "authorization_code",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:55:34.047 +00:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "GrantType": "authorization_code",
  "Error": "unauthorized_client",
  "ActivityId": "0HLBHDV8EOLOK:0000000C",
  "TimeStamp": "2018-02-11T16:55:34Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:55:35.286 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:55:35.286 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:55:35.286 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:55:35.287 +00:00 [DBG] Start token request.
2018-02-11 16:55:35.287 +00:00 [DBG] Start client validation
2018-02-11 16:55:35.287 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:55:35.287 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:55:35.291 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:55:35.291 +00:00 [DBG] Secret id found: client
2018-02-11 16:55:35.305 +00:00 [DBG] client found in database: true
2018-02-11 16:55:35.305 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:55:35.306 +00:00 [DBG] Client validation success
2018-02-11 16:55:35.306 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDV8EOLOK:0000000D",
  "TimeStamp": "2018-02-11T16:55:35Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:55:35.306 +00:00 [DBG] Start token request validation
2018-02-11 16:55:35.307 +00:00 [DBG] Start validation of authorization code token request
2018-02-11 16:55:35.307 +00:00 [ERR] Client not authorized for code flow
2018-02-11 16:55:35.308 +00:00 [ERR] {
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "authorization_code",
  "Raw": {
    "grant_type": "authorization_code",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:55:35.309 +00:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "GrantType": "authorization_code",
  "Error": "unauthorized_client",
  "ActivityId": "0HLBHDV8EOLOK:0000000D",
  "TimeStamp": "2018-02-11T16:55:35Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:55:36.105 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:55:36.105 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:55:36.105 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:55:36.105 +00:00 [DBG] Start token request.
2018-02-11 16:55:36.105 +00:00 [DBG] Start client validation
2018-02-11 16:55:36.105 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:55:36.105 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:55:36.114 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:55:36.114 +00:00 [DBG] Secret id found: client
2018-02-11 16:55:36.128 +00:00 [DBG] client found in database: true
2018-02-11 16:55:36.129 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:55:36.129 +00:00 [DBG] Client validation success
2018-02-11 16:55:36.129 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDV8EOLOK:0000000E",
  "TimeStamp": "2018-02-11T16:55:36Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:55:36.130 +00:00 [DBG] Start token request validation
2018-02-11 16:55:36.130 +00:00 [DBG] Start validation of authorization code token request
2018-02-11 16:55:36.130 +00:00 [ERR] Client not authorized for code flow
2018-02-11 16:55:36.131 +00:00 [ERR] {
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "authorization_code",
  "Raw": {
    "grant_type": "authorization_code",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:55:36.131 +00:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "GrantType": "authorization_code",
  "Error": "unauthorized_client",
  "ActivityId": "0HLBHDV8EOLOK:0000000E",
  "TimeStamp": "2018-02-11T16:55:36Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:55:37.113 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:55:37.113 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:55:37.113 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:55:37.113 +00:00 [DBG] Start token request.
2018-02-11 16:55:37.113 +00:00 [DBG] Start client validation
2018-02-11 16:55:37.113 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:55:37.114 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:55:37.116 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:55:37.116 +00:00 [DBG] Secret id found: client
2018-02-11 16:55:37.133 +00:00 [DBG] client found in database: true
2018-02-11 16:55:37.133 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:55:37.139 +00:00 [DBG] Client validation success
2018-02-11 16:55:37.139 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDV8EOLOK:0000000F",
  "TimeStamp": "2018-02-11T16:55:37Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:55:37.142 +00:00 [DBG] Start token request validation
2018-02-11 16:55:37.143 +00:00 [DBG] Start validation of authorization code token request
2018-02-11 16:55:37.143 +00:00 [ERR] Client not authorized for code flow
2018-02-11 16:55:37.143 +00:00 [ERR] {
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "authorization_code",
  "Raw": {
    "grant_type": "authorization_code",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:55:37.144 +00:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "GrantType": "authorization_code",
  "Error": "unauthorized_client",
  "ActivityId": "0HLBHDV8EOLOK:0000000F",
  "TimeStamp": "2018-02-11T16:55:37Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:55:38.296 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:55:38.296 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:55:38.296 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:55:38.296 +00:00 [DBG] Start token request.
2018-02-11 16:55:38.297 +00:00 [DBG] Start client validation
2018-02-11 16:55:38.297 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:55:38.297 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:55:38.306 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:55:38.306 +00:00 [DBG] Secret id found: client
2018-02-11 16:55:38.311 +00:00 [DBG] client found in database: true
2018-02-11 16:55:38.311 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:55:38.311 +00:00 [DBG] Client validation success
2018-02-11 16:55:38.311 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDV8EOLOK:00000010",
  "TimeStamp": "2018-02-11T16:55:38Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:55:38.311 +00:00 [DBG] Start token request validation
2018-02-11 16:55:38.311 +00:00 [DBG] Start validation of authorization code token request
2018-02-11 16:55:38.311 +00:00 [ERR] Client not authorized for code flow
2018-02-11 16:55:38.311 +00:00 [ERR] {
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "authorization_code",
  "Raw": {
    "grant_type": "authorization_code",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:55:38.312 +00:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "GrantType": "authorization_code",
  "Error": "unauthorized_client",
  "ActivityId": "0HLBHDV8EOLOK:00000010",
  "TimeStamp": "2018-02-11T16:55:38Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:59:03.443 +00:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-02-11 16:59:03.443 +00:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-02-11 16:59:03.443 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-02-11 16:59:03.443 +00:00 [DBG] Start token request.
2018-02-11 16:59:03.443 +00:00 [DBG] Start client validation
2018-02-11 16:59:03.443 +00:00 [DBG] Start parsing Basic Authentication secret
2018-02-11 16:59:03.443 +00:00 [DBG] Start parsing for secret in post body
2018-02-11 16:59:03.447 +00:00 [DBG] Parser found secret: PostBodySecretParser
2018-02-11 16:59:03.447 +00:00 [DBG] Secret id found: client
2018-02-11 16:59:03.474 +00:00 [DBG] client found in database: true
2018-02-11 16:59:03.474 +00:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-02-11 16:59:03.474 +00:00 [DBG] Client validation success
2018-02-11 16:59:03.474 +00:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLBHDV8EOLOK:00000011",
  "TimeStamp": "2018-02-11T16:59:03Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
2018-02-11 16:59:03.475 +00:00 [DBG] Start token request validation
2018-02-11 16:59:03.490 +00:00 [DBG] Start resource owner password token request validation
2018-02-11 16:59:03.490 +00:00 [ERR] client not authorized for resource owner flow
2018-02-11 16:59:03.490 +00:00 [ERR] {
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "password",
  "Raw": {
    "grant_type": "password",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-02-11 16:59:03.490 +00:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "GrantType": "password",
  "Error": "unauthorized_client",
  "ActivityId": "0HLBHDV8EOLOK:00000011",
  "TimeStamp": "2018-02-11T16:59:03Z",
  "ProcessId": 2182,
  "LocalIpAddress": "172.18.0.2:80",
  "RemoteIpAddress": "172.18.0.1"
}
